
**Prologue**:
- Actual pen-testing will likely involve **several targets**.
- Metasploit has a **database function** to simplify project management and avoid possible confusion when setting parameter values.


**For Kali / Local**
- Start PostgreSQL database `systemctl start postgresql
- `msfdb init` / `sudo -u postgres msfdb init`
-----------------------

`db_status` command checks the database status
- **Database** 
	- **Create WORKSPACES** to isolate different projects
	- List available databases: `workspace`
	- `-a (add), -d (delete)
	- `-h (help`
	- Once metasploit is launched with a database -> `help` will issue Database commands

- Running NMAP through the db command will save the results to the database
	- `hosts and services` invoke the relevant information to hosts and services running on target system
- The services command used with the `-S` parameter will allow you to search for specific services in the environment.
	- `services -S <service_name`



**Example Workflow**
1. We will use the vulnerability scanning module that finds potential MS17-010 vulnerabilities with the `use auxiliary/scanner/smb/smb_ms17_010` command.
2. We set the RHOSTS value using `hosts -R`.
3. We have typed `show options` to check if all values were assigned correctly. (In this example, 10.10.138.32 is the IP address we have scanned earlier using the `db_nmap` command)
4. Once all parameters are set, we launch the exploit using the `run` or `exploit` command.


- HTTP: Could potentially host a web application where you can find vulnerabilities like SQL injection or Remote Code Execution (RCE).
- FTP: Could allow anonymous login and provide access to interesting files.
- SMB: Could be vulnerable to SMB exploits like MS17-010
- SSH: Could have default or easy to guess credentials
- RDP: Could be vulnerable to Bluekeep or allow desktop access if weak credentials were used.


**Define:**
- *Low Hanging Fruit:* Easily identifiable and exploitable vulnerabilities that could potentially allow you to gain a foothold on a system ... gain high-level privileges such as root or administrator.